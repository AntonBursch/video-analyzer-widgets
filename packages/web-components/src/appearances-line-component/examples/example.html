<html lang="en">

<head>
    <title>Appearances Line Component Example</title>
    <link href="../../../../styles/fonts/segoeui.css"
        rel="stylesheet">
    <script src="../../../../../dist/ava-widgets-sdk.js"></script>
</head>

<body>
    <ava-design-system-provider>
        <h1>Appearances Line Component Example</h1>
        <div>
            <h2>Appearances line with tooltip & progress</h2>
            <appearances-line-component currentTime="20"
                id="appearances-line-with-tooltip-progress"></appearances-line-component>
            <h2>Appearances line with tooltip</h2>
            <appearances-line-component id="appearances-line-with-tooltip"></appearances-line-component>
            <h2>Appearances line with progress</h2>
            <appearances-line-component id="appearances-line-with-progress"></appearances-line-component>
            <h2>Appearances line</h2>
            <appearances-line-component id="appearances-line"></appearances-line-component>
        </div>
    </ava-design-system-provider>
</body>

<script>(function () {

        const appearances = [
            { endSeconds: 43.294, startSeconds: 42.209 },
            { endSeconds: 45.838, startSeconds: 44.711, color: 'red' },
            { endSeconds: 50.175, startSeconds: 49.466 },
            { endSeconds: 53.095, startSeconds: 51.468, color: 'blue' },
            { endSeconds: 55.095, startSeconds: 53.468, color: 'blue' }
        ];
        const duration = 90.1

        const timelineWithTooltipProgress = document.getElementById("appearances-line-with-tooltip-progress");
        const timelineWithTooltip = document.getElementById("appearances-line-with-tooltip");
        const timelineWithProgress = document.getElementById("appearances-line-with-progress");
        const timeline = document.getElementById("appearances-line");

        const configWithTooltipProgress = {
            data: {
                appearances: appearances,
                duration: duration
            },
            displayOptions: {
                height: 48,
                barHeight: 12,
                tooltipHeight: 20,
                top: 0,
                renderTooltip: true,
                renderProgress: true
            },
            timeSmoothing: 1.3
        }

        const configWithTooltip = {
            data: {
                appearances: appearances,
                duration: duration
            },
            displayOptions: {
                height: 42,
                barHeight: 12,
                tooltipHeight: 20,
                top: 0,
                renderTooltip: true,
                renderProgress: false
            }
        }

        const configWithProgress = {
            data: {
                appearances: appearances,
                duration: duration
            },
            displayOptions: {
                height: 26,
                barHeight: 12,
                top: 0,
                renderTooltip: false,
                renderProgress: true
            }
        }

        const config = {
            data: {
                appearances: appearances,
                duration: duration
            },
            displayOptions: {
                height: 22,
                barHeight: 12,
                top: 0,
                renderTooltip: false,
                renderProgress: false
            }
        }

        timelineWithTooltipProgress.config = configWithTooltipProgress;
        timelineWithTooltip.config = configWithTooltip;
        timelineWithProgress.config = configWithProgress;
        timeline.config = config;

        timelineWithTooltipProgress.addEventListener('current-time', (event) => {
            console.log('appearances-line-with-tooltip-progress current time changed: ', event.detail);
        })

        timelineWithTooltip.addEventListener('current-time', (event) => {
            console.log('appearances-line-with-tooltip current time changed: ', event.detail);
        })

        timelineWithProgress.addEventListener('current-time', (event) => {
            console.log('appearances-line-with-progress current time changed: ', event.detail);
        })

        timeline.addEventListener('current-time', (event) => {
            console.log('appearances-line current time changed: ', event.detail);
        })
    })()
</script>

</html>